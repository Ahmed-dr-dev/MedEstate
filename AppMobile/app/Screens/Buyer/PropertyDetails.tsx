import React, { useState, useEffect, useMemo } from 'react';
import {
  View,
  Text,
  TouchableOpacity,
  StyleSheet,
  Dimensions,
  Image,
  ScrollView,
  StatusBar,
  Alert,
  ActivityIndicator,
} from 'react-native';
import { useLocalSearchParams, useRouter } from 'expo-router';
import { API_BASE_URL } from '@/constants/api';
import { useAuth } from '@/contexts/AuthContext';

// 
const { width, height } = Dimensions.get('window');

interface Property {
  id: string;
  title: string;
  location: string;
  price: number;
  bedrooms: number;
  bathrooms: number;
  area: number;
  property_type: string;
  description: string;
  images: any[];
  owner: {
    display_name: string;
    phone: string;
  };
  created_at: string;
  updated_at: string;
}

// Mock data for Dubai developer houses (Acube promotion)
const dubaiDeveloperHouses: Property[] = [
  {
    id: 'dubai-1',
    title: 'Luxury Villa in Palm Jumeirah',
    description: 'Stunning waterfront villa with private beach access and panoramic views of the Arabian Gulf.',
    price: 8500000,
    location: 'Palm Jumeirah, Dubai, UAE',
    bedrooms: 6,
    bathrooms: 7,
    area: 8500,
    property_type: 'Villa',
    images: [
      { uri: 'https://acubedevelopments.com/wp-content/uploads/2024/06/4-scaled.jpg' },
    ],
    owner: {
      display_name: 'Acube - Dubai',
      phone: '+971-4-123-4567'
    },
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'dubai-2',
    title: 'Modern Apartment in Downtown Dubai',
    description: 'Contemporary apartment in the heart of Dubai with Burj Khalifa views and premium amenities.',
    price: 3200000,
    location: 'Downtown Dubai, UAE',
    bedrooms: 3,
    bathrooms: 3,
    area: 2200,
    property_type: 'Apartment',
    images: [
      { uri: 'data:image/jpeg;base64,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' },
      
    ],
    owner: {
      display_name: 'Acube - Dubai',
      phone: '+971-4-123-4567'
    },
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'dubai-3',
    title: 'Penthouse in Marina Walk',
    description: 'Exclusive penthouse with private terrace overlooking Dubai Marina and the Arabian Gulf.',
    price: 12000000,
    location: 'Dubai Marina, UAE',
    bedrooms: 4,
    bathrooms: 5,
    area: 4500,
    property_type: 'Penthouse',
    images: [
      { uri: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRViFXphDDqpSj8hQELMvVOhAGP1JlX5ZuS4g&s' },

    ],
    owner: {
      display_name: 'Acube - Dubai',
      phone: '+971-4-123-4567'
    },
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  }
];

// Mock data for Anga Esghaier developer houses (Esghaier Immobili√®re promotion)
const esgaiherTunisiaHouses: Property[] = [
  {
    id: 'esgaiher-1',
    title: 'Villa Moderne √† Sidi Bou Sa√Ød',
    description: 'Villa contemporaine avec vue sur la mer M√©diterran√©e et architecture traditionnelle tunisienne.',
    price: 450000,
    location: 'Sidi Bou Sa√Ød, Tunis, Tunisie',
    bedrooms: 4,
    bathrooms: 3,
    area: 280,
    property_type: 'Villa',
    images: [
      { uri: 'data:image/jpeg;base64,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' },
    
    ],
    owner: {
      display_name: 'Esghaier Immobilier - Anga Esghaier',
      phone: '+216-71-123-456'
    },
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'esgaiher-2',
    title: 'Appartement de Luxe √† Carthage',
    description: 'Appartement haut de gamme dans le quartier historique de Carthage avec vue sur les ruines antiques.',
    price: 320000,
    location: 'Carthage, Tunis, Tunisie',
    bedrooms: 3,
    bathrooms: 2,
    area: 180,
    property_type: 'Apartment',
    images: [
      { uri: 'https://www.immobilieresghaier.tn/immo_sgh/images/2023/08/31/img-20230831-wa0004.jpg' },

    ],
    owner: {
      display_name: 'Esghaier Immobilier - Anga Esghaier',
      phone: '+216-71-123-456'
    },
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'esgaiher-3',
    title: 'Villa Familiale √† La Marsa',
    description: 'Villa spacieuse pour famille avec jardin priv√© et piscine, proche des plages de La Marsa.',
    price: 680000,
    location: 'La Marsa, Tunis, Tunisie',
    bedrooms: 5,
    bathrooms: 4,
    area: 350,
    property_type: 'Villa',
    images: [
      { uri: 'https://www.immobilieresghaier.tn/immo_sgh/images/2023/08/31/img-20230831-wa0002.jpg' },
     
    ],
    owner: {
      display_name: 'Esghaier Immobilier - Anga Esghaier',
      phone: '+216-71-123-456'
    },
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'esgaiher-4',
    title: 'Studio Moderne √† Tunis Centre',
    description: 'Studio moderne et fonctionnel au c≈ìur de Tunis, id√©al pour investissement locatif.',
    price: 85000,
    location: 'Tunis Centre, Tunisie',
    bedrooms: 1,
    bathrooms: 1,
    area: 45,
    property_type: 'Studio',
    images: [
      '../../logos/Anga.jpg',
      '../../logos/anga2.jpg',
      '../../logos/download.jpg',
    ],
    owner: {
      display_name: 'Esghaier Immobilier - Anga Esghaier',
      phone: '+216-71-123-456'
    },
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  }
];

const allMockProperties = [...dubaiDeveloperHouses, ...esgaiherTunisiaHouses];

export default function PropertyDetailsScreen() {
  const { id } = useLocalSearchParams();
  const router = useRouter();
  const { user } = useAuth();
  const [loading, setLoading] = useState(false);
  const [isLiked, setIsLiked] = useState(false);

  // Find property from mock data
  const property = useMemo(() => {
    return allMockProperties.find(prop => prop.id === id) || null;
  }, [id]);

  useEffect(() => {
    // Check if property is already liked from backend
    const checkLikeStatus = async () => {
      if (user?.id && property?.id) {
        try {
          const response = await fetch(`${API_BASE_URL}/properties/like-status?user_id=${user.id}&property_id=${property.id}`);
          const result = await response.json();
          if (result.success) {
            setIsLiked(result.data.is_liked);
          }
        } catch (error) {
          console.error('Error checking like status:', error);
          setIsLiked(false);
        }
      }
    };

    checkLikeStatus();
  }, [user?.id, property?.id]);

  const handleLike = async (propertyId: string) => {
    if (!user?.id) {
      Alert.alert('Login Required', 'Please log in to save properties');
      return;
    }
    
    try {
      const response = await fetch(`${API_BASE_URL}/properties/save`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          user_id: user.id,
          property_id: propertyId
        })
      });
      
      const result = await response.json();
      if (result.success) {
        setIsLiked(result.data.is_saved);
        if (result.data.is_saved) {
          Alert.alert('Saved', 'Property saved to your favorites!');
        } else {
          Alert.alert('Removed', 'Property removed from favorites');
        }
      }
    } catch (error) {
      console.error('Error toggling like:', error);
      Alert.alert('Error', 'Failed to update favorites');
    }
  };

  const handleContact = (owner: any) => {
    Alert.alert(
      'Contact Owner',
      `Would you like to call ${owner.display_name} at ${owner.phone}?`,
      [
        { text: 'Cancel', style: 'cancel' },
        { text: 'Call', onPress: () => console.log('Call owner:', owner.phone) }
      ]
    );
  };

  if (loading) {
    return (
      <View style={styles.loadingContainer}>
        <ActivityIndicator size="large" color="#3b82f6" />
        <Text style={styles.loadingText}>Loading property details...</Text>
      </View>
    );
  }

  if (!property) {
    return (
      <View style={styles.errorContainer}>
        <Text style={styles.errorText}>Property not found</Text>
        <TouchableOpacity style={styles.backButton} onPress={() => router.back()}>
          <Text style={styles.backButtonText}>Go Back</Text>
        </TouchableOpacity>
      </View>
    );
  }

  return (
    <View style={styles.container}>
      <StatusBar barStyle="light-content" backgroundColor="#1e293b" />
      
      <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={false}>
        {/* Image Gallery */}
        <View style={styles.imageSection}>
          <ScrollView 
            horizontal 
            pagingEnabled 
            showsHorizontalScrollIndicator={false}
            style={styles.imageScrollView}
          >
            {property.images && property.images.length > 0 ? (
              property.images.map((image, index) => (
                <Image 
                  key={index}
                  source={image} 
                  style={styles.propertyImage}
                  resizeMode="cover"
                />
              ))
            ) : (
              <View style={styles.placeholderImage}>
                <Text style={styles.placeholderText}>üè†</Text>
              </View>
            )}
          </ScrollView>
          
          <TouchableOpacity
            style={[styles.likeButton, isLiked && styles.likedButton]}
            onPress={() => handleLike(property.id)}
          >
            <Text style={[styles.likeIcon, isLiked && styles.likedIcon]}>
              {isLiked ? '‚ù§Ô∏è' : 'ü§ç'}
            </Text>
          </TouchableOpacity>
          
          <TouchableOpacity style={styles.closeButton} onPress={() => router.back()}>
            <Text style={styles.closeIcon}>‚úï</Text>
          </TouchableOpacity>
          
          <View style={styles.propertyTypeBadge}>
            <Text style={styles.propertyTypeText}>
              {property.property_type.charAt(0).toUpperCase() + property.property_type.slice(1)}
            </Text>
          </View>
        </View>

        {/* Property Info */}
        <View style={styles.contentSection}>
          <Text style={styles.propertyTitle}>{property.title}</Text>
          <Text style={styles.propertyLocation}>üìç {property.location}</Text>
          
          <View style={styles.priceSection}>
            <Text style={styles.propertyPrice}>{property.price.toLocaleString()} TND</Text>
            <Text style={styles.pricePerSqft}>
              {property.area ? `${Math.round(property.price / property.area).toLocaleString()} TND/m¬≤` : ''}
            </Text>
          </View>

          {/* Property Stats */}
          <View style={styles.statsContainer}>
            <View style={styles.statItem}>
              <Text style={styles.statIcon}>üìè</Text>
              <Text style={styles.statLabel}>Area</Text>
              <Text style={styles.statValue}>{property.area ? `${property.area.toLocaleString()} m¬≤` : 'N/A'}</Text>
            </View>
            <View style={styles.statItem}>
              <Text style={styles.statIcon}>üõèÔ∏è</Text>
              <Text style={styles.statLabel}>Bedrooms</Text>
              <Text style={styles.statValue}>{property.bedrooms}</Text>
            </View>
            <View style={styles.statItem}>
              <Text style={styles.statIcon}>üöø</Text>
              <Text style={styles.statLabel}>Bathrooms</Text>
              <Text style={styles.statValue}>{property.bathrooms}</Text>
            </View>
            <View style={styles.statItem}>
              <Text style={styles.statIcon}>üè†</Text>
              <Text style={styles.statLabel}>Type</Text>
              <Text style={styles.statValue}>{property.property_type.charAt(0).toUpperCase() + property.property_type.slice(1)}</Text>
            </View>
          </View>

          {/* Description */}
          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Description</Text>
            <Text style={styles.description}>{property.description || 'No description available'}</Text>
          </View>

          {/* Property Features */}
          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Property Features</Text>
            <View style={styles.featuresContainer}>
              <View style={styles.featureTag}>
                <Text style={styles.featureText}>‚úì {property.property_type.charAt(0).toUpperCase() + property.property_type.slice(1)}</Text>
              </View>
              <View style={styles.featureTag}>
                <Text style={styles.featureText}>‚úì {property.bedrooms} Bedrooms</Text>
              </View>
              <View style={styles.featureTag}>
                <Text style={styles.featureText}>‚úì {property.bathrooms} Bathrooms</Text>
              </View>
              {property.area && (
                <View style={styles.featureTag}>
                  <Text style={styles.featureText}>‚úì {property.area.toLocaleString()} m¬≤</Text>
                </View>
              )}
            </View>
          </View>

          {/* Owner Info */}
          {property.owner && (
            <View style={styles.section}>
              <Text style={styles.sectionTitle}>Contact Owner</Text>
              <View style={styles.agentCard}>
                <View style={styles.agentInfo}>
                  <Text style={styles.agentName}>{property.owner.display_name}</Text>
                  <Text style={styles.agentPhone}>üìû {property.owner.phone}</Text>
                </View>
                <TouchableOpacity 
                  style={styles.contactButton}
                  onPress={() => handleContact(property.owner)}
                >
                  <Text style={styles.contactButtonText}>Contact</Text>
                </TouchableOpacity>
              </View>
            </View>
          )}
        </View>
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#1e293b',
  },
  loadingContainer: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#1e293b',
  },
  loadingText: {
    color: 'white',
    fontSize: 16,
    marginTop: 16,
  },
  errorContainer: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#1e293b',
    padding: 20,
  },
  errorText: {
    color: 'white',
    fontSize: 18,
    marginBottom: 20,
  },
  backButton: {
    backgroundColor: '#3b82f6',
    paddingHorizontal: 20,
    paddingVertical: 10,
    borderRadius: 8,
  },
  backButtonText: {
    color: 'white',
    fontSize: 16,
    fontWeight: '600',
  },
  scrollView: {
    flex: 1,
  },
  imageSection: {
    height: height * 0.5,
    position: 'relative',
  },
  imageScrollView: {
    flex: 1,
  },
  propertyImage: {
    width: width,
    height: '100%',
  },
  placeholderImage: {
    width: width,
    height: '100%',
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: 'rgba(255, 255, 255, 0.1)',
  },
  placeholderText: {
    fontSize: 64,
    opacity: 0.5,
  },
  likeButton: {
    position: 'absolute',
    top: 50,
    right: 20,
    width: 44,
    height: 44,
    borderRadius: 22,
    backgroundColor: 'rgba(0, 0, 0, 0.6)',
    justifyContent: 'center',
    alignItems: 'center',
  },
  likeIcon: {
    fontSize: 20,
  },
  likedButton: {
    backgroundColor: 'rgba(239, 68, 68, 0.8)',
  },
  likedIcon: {
    fontSize: 22,
    color: '#ef4444',
  },
  closeButton: {
    position: 'absolute',
    top: 50,
    left: 20,
    width: 44,
    height: 44,
    borderRadius: 22,
    backgroundColor: 'rgba(0, 0, 0, 0.6)',
    justifyContent: 'center',
    alignItems: 'center',
  },
  closeIcon: {
    color: 'white',
    fontSize: 20,
    fontWeight: 'bold',
  },
  propertyTypeBadge: {
    position: 'absolute',
    bottom: 20,
    left: 20,
    backgroundColor: 'rgba(59, 130, 246, 0.9)',
    paddingHorizontal: 12,
    paddingVertical: 6,
    borderRadius: 16,
  },
  propertyTypeText: {
    color: 'white',
    fontSize: 14,
    fontWeight: '600',
  },
  contentSection: {
    padding: 20,
  },
  propertyTitle: {
    fontSize: 24,
    fontWeight: 'bold',
    color: 'white',
    marginBottom: 8,
  },
  propertyLocation: {
    fontSize: 16,
    color: 'rgba(255, 255, 255, 0.8)',
    marginBottom: 16,
  },
  priceSection: {
    marginBottom: 24,
  },
  propertyPrice: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#10b981',
    marginBottom: 4,
  },
  pricePerSqft: {
    fontSize: 14,
    color: 'rgba(255, 255, 255, 0.6)',
  },
  statsContainer: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    gap: 16,
    marginBottom: 24,
  },
  statItem: {
    flex: 1,
    minWidth: (width - 60) / 2,
    backgroundColor: 'rgba(255, 255, 255, 0.1)',
    padding: 16,
    borderRadius: 12,
    alignItems: 'center',
    borderWidth: 1,
    borderColor: 'rgba(255, 255, 255, 0.2)',
  },
  statIcon: {
    fontSize: 24,
    marginBottom: 8,
  },
  statLabel: {
    fontSize: 12,
    color: 'rgba(255, 255, 255, 0.7)',
    marginBottom: 4,
  },
  statValue: {
    fontSize: 16,
    fontWeight: 'bold',
    color: 'white',
  },
  section: {
    marginBottom: 24,
  },
  sectionTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    color: 'white',
    marginBottom: 12,
  },
  description: {
    fontSize: 16,
    color: 'rgba(255, 255, 255, 0.8)',
    lineHeight: 24,
  },
  featuresContainer: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    gap: 8,
  },
  featureTag: {
    backgroundColor: 'rgba(59, 130, 246, 0.2)',
    paddingHorizontal: 12,
    paddingVertical: 8,
    borderRadius: 12,
    borderWidth: 1,
    borderColor: 'rgba(59, 130, 246, 0.3)',
  },
  featureText: {
    color: '#3b82f6',
    fontSize: 14,
    fontWeight: '500',
  },
  agentCard: {
    backgroundColor: 'rgba(255, 255, 255, 0.1)',
    padding: 16,
    borderRadius: 12,
    borderWidth: 1,
    borderColor: 'rgba(255, 255, 255, 0.2)',
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
  },
  agentInfo: {
    flex: 1,
  },
  agentName: {
    fontSize: 16,
    fontWeight: 'bold',
    color: 'white',
    marginBottom: 4,
  },
  agentPhone: {
    fontSize: 14,
    color: 'rgba(255, 255, 255, 0.8)',
  },
  contactButton: {
    backgroundColor: '#3b82f6',
    paddingHorizontal: 20,
    paddingVertical: 10,
    borderRadius: 8,
  },
  contactButtonText: {
    color: 'white',
    fontSize: 14,
    fontWeight: '600',
  },
});